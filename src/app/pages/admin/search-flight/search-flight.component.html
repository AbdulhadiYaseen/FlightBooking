<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css"
    integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous" />

<div class="container mt-4">
    <div class="backgroundImage"></div>
    <div class="card border-0 shadow-lg">
        <div class="card-body">
            <div class="mb-3">
                <mat-radio-group aria-label="Select an option" [(ngModel)]="selectedValue" (change)="onChange($event)">
                    <mat-radio-button class="me-3" value="1">Round trip</mat-radio-button>
                    <mat-radio-button value="2">One way</mat-radio-button>
                </mat-radio-group>
            </div>

            <div class="row g-3 align-items-center deptartureArrival">
                <div class="col-md-5">
                    <mat-form-field class="w-100 from">
                        <mat-label>
                            Departure<mat-icon aria-hidden="false" aria-label="Example home icon"
                                fontIcon="flight_takeoff" class="icon"></mat-icon>
                        </mat-label>
                        <mat-select [(ngModel)]="departureAirport">
                            <mat-option *ngFor="let city of airports"
                                [value]="city.iata">{{city.airport}}</mat-option>
                        </mat-select>
                    </mat-form-field>
                </div>
                <div class="col-md-2 text-center">
                    <img src="../assets/E.png" alt="My Image" class="img-fluid planes" />
                </div>
                <div class="col-md-5">
                    <mat-form-field class="w-100 to">
                        <mat-label>
                            Arrival<mat-icon aria-hidden="false" aria-label="Example home icon" fontIcon="flight_land"
                                class="icon"></mat-icon>
                        </mat-label>
                        <mat-select [(ngModel)]="arrivalAirport">
                            <div *ngFor="let city of airports">
                                <mat-option [value]="city.iata">{{city.airport}}</mat-option>
                            </div>
                        </mat-select>
                    </mat-form-field>
                </div>
            </div>

            <div class="row g-3 secondRowOfCards">
                <div class="col-md-3">
                    <mat-form-field class="w-100 date">
                        <mat-label>Choose a date</mat-label>
                        <input matInput [matDatepicker]="picker" [(ngModel)]="departDate" [min]="today">
                        <mat-hint>MM/DD/YYYY</mat-hint>
                        <mat-datepicker-toggle matIconSuffix [for]="picker"></mat-datepicker-toggle>
                        <mat-datepicker #picker></mat-datepicker>
                    </mat-form-field>
                </div>
                <div class="col-md-3" *ngIf="selectedValue == '1'">
                    <mat-form-field class="w-100 date">
                        <mat-label>Choose a return date</mat-label>
                        <input matInput [matDatepicker]="picker" [(ngModel)]="arriveDate" [min]="departDate">
                        <mat-hint>MM/DD/YYYY</mat-hint>
                        <mat-datepicker-toggle matIconSuffix [for]="picker"></mat-datepicker-toggle>
                        <mat-datepicker #picker></mat-datepicker>
                    </mat-form-field>
                </div>
                <div class="col-md-2">
                    <mat-form-field class="w-100 travellers">
                        <mat-label>Number of travelers</mat-label>
                        <input matInput value="" [(ngModel)]="numberOfTravellers">
                    </mat-form-field>
                </div>
                <div class="col-md-4">
                    <mat-form-field class="w-100 class">
                        <mat-label>Class</mat-label>
                        <mat-select [(ngModel)]="class">
                            <mat-option *ngFor="let class of classes" [value]="class">{{class}}</mat-option>
                        </mat-select>
                    </mat-form-field>
                </div>
            </div>

            <div class="text-center mt-4">
                <input type="checkbox" id="start" class="d-none" />
                <label for="start">
                    <div class="btn btn-primary d-flex justify-content-center align-items-center button button-71"
                        (click)="searchFlights()"
                        [ngClass]="{'loading': isLoading}">
                        <span *ngIf="!isLoading">Search</span> 
                        <span *ngIf="isLoading">Loading...</span>
                        Search <i class="fab fa-telegram-plane ms-2 plane"></i>
                    </div>
                </label>
            </div>
        </div>
    </div>
</div>